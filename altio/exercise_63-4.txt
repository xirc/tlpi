self-pipe
1) signal受信
2) シグナルハンドラでPIPEにデータを書き込み
3) pollでPIPEがI/O可能なことを検知
4) PIPEのデータをすべて読み込み
5) 本来のシグナルハンドラの処理

self-pipe (wrong)
1) signal受信
2) シグナルハンドラでPIPEにデータを書き込み
3) pollでPIPEがI/O可能なことを検知
4) 本来のシグナルハンドラの処理
5) PIPEのデータをすべて読み込み



self-pipe (wrong)では競合状態が発生する
4) 本来のシグナルハンドラの処理
4-a) 新しいシグナル発生
4-b) シグナルハンドラでPIPEにデータを書き込み
5) PIPEのデータをすべて読み込み

-> 5でPIPEのデータをすべて読み込むため、
   4-aで発生したシグナル情報が失われる。
