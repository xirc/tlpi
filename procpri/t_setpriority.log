[vagrant@localhost procpri]$ ./t_setpriority
usage: ./t_setpriority {p|g|u} who priority
          set priority of:p=process; g=process group; u=process for user
[vagrant@localhost procpri]$ ps -o'pid,pgrp,comm,nice'
  PID  PGRP COMMAND          NI
 5320  5320 bash              0
 8155  8155 ps                0
[vagrant@localhost procpri]$ cat &
[1] 8156
[vagrant@localhost procpri]$ cat | tac | grep 'foo' &
[2] 8159

[1]+  停止                  cat
[vagrant@localhost procpri]$

[2]+  停止                  cat | tac | grep 'foo'
[vagrant@localhost procpri]$ ps -o'pid,pgrp,comm,nice'
  PID  PGRP COMMAND          NI
 5320  5320 bash              0
 8156  8156 cat               0
 8157  8157 cat               0
 8158  8157 tac               0
 8159  8157 grep              0
 8160  8160 ps                0
[vagrant@localhost procpri]$ ./t_setpriority p 8158 3
Nice value = 3
[vagrant@localhost procpri]$ ps -o'pid,pgrp,comm,nice'
  PID  PGRP COMMAND          NI
 5320  5320 bash              0
 8156  8156 cat               0
 8157  8157 cat               0
 8158  8157 tac               3
 8159  8157 grep              0
 8164  8164 ps                0
[vagrant@localhost procpri]$ ./t_setpriority g 8157 5
Nice value = 5
[vagrant@localhost procpri]$ ps -o'pid,pgrp,comm,nice'
  PID  PGRP COMMAND          NI
 5320  5320 bash              0
 8156  8156 cat               0
 8157  8157 cat               5
 8158  8157 tac               5
 8159  8157 grep              5
 8166  8166 ps                0
[vagrant@localhost procpri]$ id
uid=501(vagrant) gid=501(vagrant) 所属グループ=501(vagrant),100(users)
[vagrant@localhost procpri]$ ./t_setpriority u 501 8
Nice value = 8
[vagrant@localhost procpri]$ ps -o'pid,pgrp,comm,nice'
  PID  PGRP COMMAND          NI
 5320  5320 bash              8
 8156  8156 cat               8
 8157  8157 cat               8
 8158  8157 tac               8
 8159  8157 grep              8
 8169  8169 ps                8
[vagrant@localhost procpri]$ ./t_setpriority u 501 0
setpriority: Permission denied
[vagrant@localhost procpri]$ sudo ./t_setpriority u 501 0
Nice value = 0
[vagrant@localhost procpri]$ ps -o'pid,pgrp,comm,nice'
  PID  PGRP COMMAND          NI
 5320  5320 bash              0
 8156  8156 cat               0
 8157  8157 cat               0
 8158  8157 tac               0
 8159  8157 grep              0
 8173  8173 ps                0
[vagrant@localhost procpri]$
